(this["webpackJsonpgoit-react-hw-08-phonebook"]=this["webpackJsonpgoit-react-hw-08-phonebook"]||[]).push([[3],{82:function(t,n,e){},83:function(t,n,e){},87:function(t,n,e){"use strict";e.r(n),e.d(n,"ContactsPage",(function(){return S}));var c=e(31),a=e(32),o=e(34),r=e(33),s=e(0),u=e(4),i=e(8),l=e(14),b=e(18),h=e.n(b),d=e(10);h.a.defaults.baseURL="https://goit-phonebook-api.herokuapp.com";var j={addContacts:function(t,n){return function(e){e(d.a.addContactsRequest()),h.a.post("/contacts",{name:t,number:n}).then((function(c){e(d.a.addContactsSuccess({name:t,number:n,id:c.data.name}))})).catch((function(t){return e(d.a.addContactsError(t))}))}},fetchContacts:function(){return function(t){t(d.a.fetchContactsRequest()),h.a.get("/contacts").then((function(n){t(d.a.fetchContactsSuccess(Object.keys(n.data).map((function(t){return Object(l.a)({},n.data[t])}))))})).catch((function(n){return t(d.a.fetchContactsError(null))}))}},removeContact:function(t){return function(n){n(d.a.removeContactsRequest()),h.a.delete("/contacts/".concat(t)).then((function(){return n(d.a.removeContactsSuccess(t))})).catch((function(t){return n(d.a.removeContactsError(t))}))}}},f=(e(82),e(1)),p=function(t){Object(o.a)(e,t);var n=Object(r.a)(e);function e(){var t;Object(c.a)(this,e);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(t=n.call.apply(n,[this].concat(o))).state={name:"",number:""},t.handleInput=function(n){var e=n.target,c=e.name,a=e.value;t.setState((function(){return Object(u.a)({},c,a)}))},t.handleSubmit=function(n){var e=t.state,c=e.name,a=e.number;n.preventDefault(),t.props.onAddContacts(c,a),t.setState({name:"",number:""})},t}return Object(a.a)(e,[{key:"render",value:function(){return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("h1",{children:"Phonebook"}),Object(f.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(f.jsxs)("label",{children:["Name",Object(f.jsx)("input",{type:"text",value:this.state.name,onChange:this.handleInput,name:"name"})]}),Object(f.jsxs)("label",{children:["Number",Object(f.jsx)("input",{type:"tel",value:this.state.number,onChange:this.handleInput,name:"number"})]}),Object(f.jsx)("button",{type:"submit",children:"Add contact"})]})]})}}]),e}(s.Component),m={onAddContacts:j.addContacts},O=Object(i.b)(null,m)(p),C=e(89),v=e(88),g=e(24),x=function(t){return t.contacts.items},y=function(t){return t.contacts.filter},k={getLoading:function(t){return t.contacts.loading},getContactItems:x,getAlert:function(t){return t.contacts.alert},getValueFilter:y,getContactList:Object(g.a)([x,y],(function(t,n){return t.filter((function(t){return t.name.toLowerCase().includes(n.toLowerCase())}))}))};e(83);var L={onRemoveContact:j.removeContact},F=Object(i.b)((function(t){return{contacts:k.getContactList(t)}}),L)((function(t){var n=t.contacts,e=t.onRemoveContact;return Object(f.jsx)("div",{children:Object(f.jsx)(C.a,{component:"ul",children:n.map((function(t){return Object(f.jsx)(v.a,{timeout:250,classNames:"contacts",children:Object(f.jsxs)("li",{children:[" ",t.name,": ",t.number,Object(f.jsx)("button",{type:"button",onClick:function(){return e(t.id)},children:"x"})]})},t.id)}))})})})),I=function(t){Object(o.a)(e,t);var n=Object(r.a)(e);function e(){var t;Object(c.a)(this,e);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(t=n.call.apply(n,[this].concat(o))).handleInput=function(n){t.props.onInputFilter(n.target.value)},t}return Object(a.a)(e,[{key:"render",value:function(){return Object(f.jsxs)("div",{children:[Object(f.jsx)("h3",{children:"Find contacts by name"}),Object(f.jsx)("input",{type:"text",onChange:this.handleInput})]})}}]),e}(s.Component),w={onInputFilter:d.a.addFilter},A=Object(i.b)((function(t){return{value:k.getValueFilter(t)}}),w)(I),S=function(t){Object(o.a)(e,t);var n=Object(r.a)(e);function e(){return Object(c.a)(this,e),n.apply(this,arguments)}return Object(a.a)(e,[{key:"componentDidMount",value:function(){this.props.onFetchContacts()}},{key:"render",value:function(){return Object(f.jsxs)("div",{children:[Object(f.jsx)(O,{}),this.props.contacts.length>0?Object(f.jsx)(A,{}):Object(f.jsx)("h2",{children:"Contact list is empty! Please add contact!"}),this.props.isLoadingContacts&&Object(f.jsx)("h1",{children:"Loading contacts......"}),Object(f.jsx)(F,{})]})}}]),e}(s.Component),R={onFetchContacts:j.fetchContacts};n.default=Object(i.b)((function(t){return{isLoadingContacts:k.getLoading(t),contacts:k.getContactItems(t),isAlertContacts:k.getAlert(t)}}),R)(S)}}]);
//# sourceMappingURL=3.4a9989f2.chunk.js.map